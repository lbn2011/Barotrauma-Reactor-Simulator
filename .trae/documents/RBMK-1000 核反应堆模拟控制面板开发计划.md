# RBMK-1000 核反应堆模拟控制面板开发计划

## 1. 项目结构设计

### 1.1 目录结构

```
src/
├── lib/
│   ├── components/         # 可复用组件
│   │   ├── ui/             # shadcn 组件
│   │   └── reactor/        # 反应堆专用组件
│   ├── stores/             # 状态管理
│   │   └── reactorStore.ts # 核心反应堆状态
│   ├── utils/              # 工具函数
│   └── types/              # TypeScript 类型定义
├── routes/                 # 路由组件
│   ├── Overview.svelte     # 概述页面
│   └── panels/             # 控制面板页面
│       ├── Panel1.svelte   # 反应堆控制（吸收）棒
│       ├── Panel2.svelte   # 反应堆功率调节面板
│       └── ...             # 其他控制面板
├── App.svelte              # 应用根组件
└── main.ts                 # 应用入口
```

### 1.2 技术配置

- 配置 lib 路径别名，优化模块导入

- 集成 ESLint 和 Prettier 进行代码质量控制

## 2. 核心系统实现

### 2.1 状态管理系统

- 使用 Svelte Stores 实现全局状态管理

- 设计反应堆核心状态模型，包含所有系统参数

- 实现状态更新逻辑，模拟反应堆各系统间的关联

### 2.2 数据管理

- 使用 idb-keyval 实现本地存储

- 设计存档码系统，支持状态保存和加载

- 实现数据趋势图数据收集和处理

## 3. 界面开发

### 3.1 布局结构

- 实现侧边栏导航系统

- 设计响应式布局，适配不同设备尺寸

- 构建现代化 UI，使用 shadcn 组件和 Tailwind CSS

### 3.2 概述页面

- 模拟启动/停止控制

- 操作日志显示区域

- 数据趋势图（18号面板）

- CRT示意图（21号面板）

- 警报CRT（20号面板）

### 3.3 控制面板页面

- 实现 22 个指定控制面板

- 确保各面板间数据交互和状态共享

- 添加合理的动画和过渡效果

## 4. 功能模块实现顺序

### 阶段 1: 基础架构

1. 搭建项目基础结构
2. 配置技术环境
3. 实现状态管理系统
4. 构建布局框架

### 阶段 2: 核心功能

1. 反应堆控制（吸收）棒 (Panel 1)
2. 反应堆功率调节面板 (Panel 2)
3. 反应堆再循环泵 (Panels 3/4)
4. 反应堆应急冷却泵 (Panels 5/6)
5. 数据趋势图 (Panel 18)

### 阶段 3: 辅助系统

1. 汽轮机控制 (Panel 9)
2. 除氧器蒸汽控制 (Panel 10)
3. 凝汽器真空系统 (Panel 11)
4. 蒸汽排汽控制 (Panel 12)
5. 汽轮机辅助系统 (Panel 13)
6. 凝汽器热井液位控制 (Panel 14)
7. 凝汽器循环水泵 (Panel 15)
8. 补水系统 (Panel 16)
9. 反应堆给水泵控制 (Panel 17)
10. HEPA过滤器控制 (Panel 19)
11. 警报CRT (Panel 20)
12. CRT示意图 (Panel 21)
13. 凝结水系统 (Panel 22)

### 阶段 4: 集成和优化

1. 实现存档功能
2. 优化用户界面
3. 添加动画和过渡效果
4. 响应式设计适配
5. 代码质量检查和优化

## 5. 开发流程

1. 按功能模块逐步实现
2. 完成一个面板后：
   - 使用 Prettier 格式化代码

   - 运行 ESLint 检查并修复问题

   - 执行测试验证功能

   - 修复发现的问题

   - 提交代码到 Git 仓库

## 6. 技术要点

- **无后端架构**：所有数据存储和处理在客户端完成

- **模块化设计**：确保系统间数据交互和状态共享

- **相对真实性**：模拟逻辑基于 RBMK-1000 反应堆的基本原理

- **现代化界面**：使用 shadcn 组件库和 Tailwind CSS

- **响应式设计**：适配不同设备尺寸

- **数据可视化**：实现数据趋势图实时显示关键参数变化

- **存档系统**：使用存档码系统保存和加载模拟状态

- 图标库：shadcn

此计划将确保项目按步骤有序开发，同时保证代码质量和功能完整性。
